version: 2

models:
  - name: int_author
    description: "Intermediate layer for authors data, linking authors to publisher groups."
    columns:
      - name: author_id
        description: "Unique numeric ID assigned to each author."
        tests:
          - unique
          - not_null
      - name: author_name
        description: "The name of the author."
        tests:
          - not_null
      - name: publisher_group
        description: "The publisher group associated with the author."

  - name: int_books
    description: "Intermediate layer for books data, consolidating metadata from various sources."
    columns:
      - name: ISBN
        description: "Primary key for books, uniquely identifying each book."
        tests:
          - unique
          - not_null
      - name: title
        description: "Title of the book."
      - name: author
        description: "Author of the book."
      - name: publication_date
        description: "Date the book was published."
      - name: publisher
        description: "Publisher of the book."

  - name: int_goodreads
    description: "Intermediate layer for Goodreads data, including ratings and additional metadata."
    columns:
      - name: goodreads_id
        description: "Unique identifier for Goodreads records."
        tests:
          - unique
          - not_null
      - name: ISBN
        description: "Foreign key linking to books table."
        tests:
          - not_null
      - name: rating
        description: "Average Goodreads rating for the book."
      - name: pages
        description: "Number of pages in the book."

  - name: int_google_books
    description: "Intermediate layer for Google Books data, providing supplementary book metadata."
    columns:
      - name: google_books_id
        description: "Unique identifier for Google Books records."
        tests:
          - unique
          - not_null
      - name: ISBN
        description: "Foreign key linking to books table."
        tests:
          - not_null
      - name: description
        description: "A brief description of the book from Google Books."
      - name: categories
        description: "Categories assigned to the book in Google Books."

  - name: int_sales
    description: "Intermediate layer for sales data, linking sales records to books by ISBN."
    columns:
      - name: sale_id
        description: "Unique identifier for each sale record."
        tests:
          - unique
          - not_null
      - name: ISBN
        description: "Foreign key linking sales to books."
        tests:
          - not_null
      - name: quantity
        description: "Number of books sold in this record."
      - name: sale_date
        description: "Date of the sale."
