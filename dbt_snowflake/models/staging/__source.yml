version: 2

sources:
  - name: source
    database: dbt_project
    schema: models_raw
    description: "Schema containing raw book data loaded from various sources."
    tables:
      - name: books
        description: "Table storing raw book data with a 'source' column and JSON-structured 'data' column."
        loader: "Snowflake COPY command from S3"
        columns:
          - name: source
            description: "The source of the book data (e.g., Mercado Livre, Google Books, Bookstore)."
          - name: data
            description: "The raw JSON data stored in a VARIANT column."
      - name: amazon_books
        description: "Table storing raw book data with a 'source' column and JSON-structured 'data' column."
        loader: "Snowflake COPY command from S3"
        columns:
          - name: title
            description: "Title of the book."
          - name: rank
            description: "Amazon rank of the book."
          - name: reviews
            description: "Average review rating (out of 5)."
          - name: review_count
            description: "Total number of reviews."
          - name: price
            description: "Price of the book in USD."
          - name: genre
            description: "Genre or category of the book."
          - name: manufacturer
            description: "Publisher or manufacturer."
          - name: brand
            description: "Brand associated with the book, if any."
          - name: author
            description: "Author of the book."
          - name: number_of_pages
            description: "Number of pages."
